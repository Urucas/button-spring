!function(v){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=v();else if("function"==typeof define&&define.amd)define([],v);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self);b.Impulse=v()}}(function(){return function b(d,h,c){function a(e,k){if(!h[e]){if(!d[e]){var l="function"==typeof require&&require;if(!k&&l)return l(e,!0);if(f)return f(e,!0);l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",
l;}l=h[e]={exports:{}};d[e][0].call(l.exports,function(c){var f=d[e][1][c];return a(f?f:c)},l,l.exports,b,d,h,c)}return h[e].exports}for(var f="function"==typeof require&&require,k=0;k<c.length;k++)a(c[k]);return a}({1:[function(b,d,h){var c=b("./body"),a=b("./simulation"),f=b("./boundary");h=b("./animation");var k=b("./vector"),e=b("./util").height;d.exports=h({defaultOptions:{acceleration:1E3,bounce:!1,minBounceDistance:5,damping:.2,restitution:.2},onStart:function(b,l,g,n,p,q){q=g.sub(l).normalize();
var r=q.mult(n.acceleration),s=q.mult(n.bounceAcceleration||n.acceleration),t=f({left:g.x>l.x?-Infinity:g.x,right:g.x>l.x?g.x:Infinity,top:g.y>l.y?-Infinity:g.y,bottom:g.y>l.y?g.y:Infinity}),d;if(.001>g.sub(l).norm()&&.001>b.norm())return p.done(g,b);var w=n.restitution||n.damping,h=this._body=c(b,l,{accelerate:function(a,c){return d?s:r},update:function(a,c){t.contains(a)?p.state(a,c):n.bounce&&Math.abs(e(s.norm(),c.norm()*w,0))>n.minBounceDistance?(d=!0,h.position=k(g),h.velocity.selfMult(-n.damping),
p.state(g,h.velocity)):p.done(g,c)}});a.addBody(this._body)},onEnd:function(){a.removeBody(this._body)}})},{"./animation":2,"./body":4,"./boundary":5,"./simulation":11,"./util":13,"./vector":14}],2:[function(b,d,h){var c=b("lodash.defaults"),a=window.Promise||b("promise"),f=b("./boundary"),k=b("./vector"),e=b("component-emitter"),m={to:function(a,c){this._to=a instanceof f?a:k(a,c);return this},velocity:function(a,c){this._velocity=k(a,c);return this},from:function(a,c){this._from=k(a,c);return this},
_updateState:function(a,c){this._phys.position(a);this._phys.velocity(c)},cancel:function(){this._onEnd();this._running=!1;this._reject()},running:function(){return this._running||!1},start:function(){var a=this,g=this._from?this._from:this._phys.position(),e=this._to?this._to:this._phys.position(),p=this._velocity?this._velocity:this._phys.velocity(),b=c({},this._opts||{},this._defaultOpts);this._phys._startAnimation(this);this._running=!0;e instanceof f&&(e=e.nearestIntersect(g,p));this._onStart(p,
g,e,b,{state:function(c,e){a._updateState(c,e)},done:function(c,e){a._updateState(c,e);a._onEnd();a._running=!1;a._resolve({position:c,velocity:e})},cancel:function(c,e){a._updateState(c,e);a._onEnd();a._running=!1;a._reject()}});return a._ended}};d.exports=function(c){var g=function(e,g){var f=this;this._opts=g;this._phys=e;this._onStart=c.onStart;this._onEnd=c.onEnd;this._defaultOpts=c.defaultOptions;this._ended=new a(function(a,c){f._resolve=a;f._reject=c});this.start=this.start.bind(this)};e(g.prototype);
g.prototype=m;return g}},{"./boundary":5,"./vector":14,"component-emitter":15,"lodash.defaults":16,promise:23}],3:[function(b,d,h){function c(c,e,f){this._phys=c;this._opts=a({},f||{},m);this._position=c.position();this._velocity=c.velocity();this._attachment="function"===typeof e.position?e.position.bind(e):e}var a=b("lodash.defaults"),f=b("./vector"),k=b("./simulation"),e=b("./body"),m={tension:100,damping:10,seperation:0,offset:{x:0,y:0}};d.exports=c;c.prototype.position=function(a,c){if(0===arguments.length)return this._position;
this._body?this._body.position=this._position=f(a,c):this._position=f(a,c)};c.prototype.velocity=function(a,c){this._body?this._body.velocity=this._velocity=f(a,c):this._velocity=f(a,c)};c.prototype.cancel=function(a,c){this._running=!1;k.removeBody(this._body)};c.prototype.stop=function(a,c){this._running=!1;k.removeBody(this._body)};c.prototype.running=function(a,c){return this._running};window.unit=0;c.prototype.start=function(){var a=this._attachment,c=this._opts,f=this._phys,p=this._velocity,
b=this._position,m=this;f._startAnimation(this);this._running=!0;var s=this._body=e(p,b,{accelerate:function(e,f){var b=e.position.selfSub(a()),p=b.norm(),b=b.normalize();0===b.x&&0===b.y&&(b.x=b.y=1,b.normalize());return b.selfMult(-c.tension).selfMult(p-c.seperation).selfSub(e.velocity.selfMult(c.damping))},update:function(a,e){m._position=s.position;m._velocity=s.velocity;if(c.offset){var b=a.add(c.offset);f.position(b)}else f.position(a);f.velocity(e)}});k.addBody(s);return this}},{"./body":4,
"./simulation":11,"./vector":14,"lodash.defaults":16}],4:[function(b,d,h){function c(f,b,e){if(!(this instanceof c))return new c(f,b,e);this.previousPosition=this.position=a(b);this.velocity=a(f);this._fns=e}var a=b("./vector");d.exports=c;c.prototype.update=function(a){a=this.previousPosition.clone().lerp(this.position,a);this._fns.update(a,this.velocity)};c.prototype.accelerate=function(a,c){return this._fns.accelerate(a,c)};c.prototype.atRest=function(){return.01>this.velocity.norm()};c.prototype.atPosition=
function(c){return.01>this.position.sub(a(c)).norm()}},{"./vector":14}],5:[function(b,d,h){function c(a,c,b){a=(a-c.y)/b.y;return c.add(b.clone().mult(a))}function a(a,c,b){a=(a-c.x)/b.x;return c.add(b.clone().mult(a))}function f(a){if(!(this instanceof f))return new f(a);this.left="undefined"!==typeof a.left?a.left:-Infinity;this.right="undefined"!==typeof a.right?a.right:Infinity;this.top="undefined"!==typeof a.top?a.top:-Infinity;this.bottom="undefined"!==typeof a.bottom?a.bottom:Infinity}var k=
b("./vector");d.exports=f;f.prototype.applyDamping=function(a,c){var b=a.x,f=a.y;b<this.left&&(b=this.left-(this.left-b)*c);f<this.top&&(f=this.top-(this.top-f)*c);b>this.right&&(b=this.right-(this.right-b)*c);f>this.bottom&&(f=this.bottom-(this.bottom-f)*c);return k(b,f)};f.prototype.contains=function(a){return a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};f.prototype.nearestIntersect=function(b,f){var d=k(f).normalize();b=k(b);var g;0>f.y&&(g=c(this.top,b,d));0<f.y&&(g=c(this.bottom,
b,d));var n;if(n=g)n=g.x,n=n>=this.left&&n<=this.right;if(n)return g;0>f.x&&(g=a(this.left,b,d));0<f.x&&(g=a(this.right,b,d));if(d=g)d=g.y,d=d>=this.top&&d<=this.bottom;if(d)return g;g=Math.abs(b.x-this.left)<Math.abs(b.x-this.right)?this.left:this.right;d=Math.abs(b.y-this.top)<Math.abs(b.y-this.bottom)?this.top:this.bottom;return g<d?k(g,b.y):k(b.x,d)}},{"./vector":14}],6:[function(b,d,h){var c=b("./body"),a=b("./simulation"),f=b("./boundary");b=b("./animation");d.exports=b({defaultOptions:{deceleration:400},
onStart:function(b,e,d,l,g,n){var p=d.sub(e).normalize(),q=p.mult(l.deceleration).negate(),r=f({left:Math.min(d.x,e.x),right:Math.max(d.x,e.x),top:Math.min(d.y,e.y),bottom:Math.max(d.y,e.y)});b=p.mult(b.norm());this._body=c(b,e,{accelerate:function(a,c){return q},update:function(a,c){p.directionEqual(c)?r.contains(a)?g.state(a,c):g.done(d,c):g.cancel(a,{x:0,y:0})}});a.addBody(this._body)},onEnd:function(){a.removeBody(this._body)}})},{"./animation":2,"./body":4,"./boundary":5,"./simulation":11}],
7:[function(b,d,h){function c(c,b,d){this._phys=c;"function"===typeof b?(this._startFn=b,b={}):this._startFn=d;this._opts=a({},f,b);this._opts.boundry&&(console.warn("Warning: Misspelled option 'boundry' is being deprecated. Please use 'boundary' instead."),this._opts.boundary=this._opts.boundry,delete this._opts.boundry);b=(b=this._opts.handle)&&!b.length?[b]:b&&b.length?[].slice.call(b):c.els;b.forEach(this._setupHandle,this)}h=b("component-emitter");var a=b("lodash.defaults"),f={};d.exports=c;
h(c.prototype);c.prototype.moved=function(){return 10<this._interaction.distance()};c.prototype._setupHandle=function(a){a.addEventListener("touchstart",this._start.bind(this));a.addEventListener("mousedown",this._start.bind(this));a.addEventListener("touchmove",this._move.bind(this));window.addEventListener("mousemove",this._move.bind(this));a.addEventListener("touchend",this._end.bind(this));window.addEventListener("mouseup",this._end.bind(this))};c.prototype._start=function(a){this._startTime=
Date.now();a.preventDefault();this._mousedown=!0;this._interaction=this._phys.interact({boundary:this._opts.boundary,damping:this._opts.damping,direction:this._opts.direction});var c=this._interaction.start(a);this._startFn&&this._startFn(c);this.emit("start",a)};c.prototype._move=function(a){this._mousedown&&(a.preventDefault(),this._interaction.update(a),this.emit("move",a))};c.prototype._end=function(a){this._mousedown&&(a.preventDefault(),this._mousedown=!1,this._interaction.end(),this.emit("end",
a))}},{"component-emitter":15,"lodash.defaults":16}],8:[function(b,d,h){function c(b){if(!(this instanceof c))return new c(b);"function"===typeof b?(this._render=b,this.els=[]):(this.els=b.length?[].slice.call(b):[b],this._renderer=new f(this.els),this._render=this._renderer.update.bind(this._renderer));this._position=a(0,0);this._velocity=a(0,0)}b("./simulation");var a=b("./vector"),f=b("./renderer");b("lodash.defaults");var k=b("./spring"),e=b("./attach-spring"),m=b("./decelerate"),l=b("./accelerate"),
g=b("./drag"),n=b("./interact");h=b("./boundary");b=window.Promise||b("promise");d.exports=c;c.Boundary=h;c.Boundry=h;c.Vector=a;c.Promise=b;c.prototype.style=function(){this._renderer.style.apply(this._renderer,arguments);return this};c.prototype.visible=function(){this._renderer.visible.apply(this._renderer,arguments);return this};c.prototype.direction=function(a){var c=this.velocity(),b,f;0>c.x?b="left":0<c.x&&(b="right");0>c.y?f="up":0<c.y&&(f="down");c=b+(f||"").toUpperCase();return a===b||a===
f||a===c};c.prototype.atRest=function(){var a=this.velocity();return 0===a.x&&0===a.y};c.prototype._startAnimation=function(a){this._currentAnimation&&this._currentAnimation.running()&&this._currentAnimation.cancel();this._currentAnimation=a};c.prototype.velocity=function(c,b){if(!arguments.length)return this._velocity;this._velocity=a(c,b);return this};c.prototype.position=function(c,b){if(!arguments.length)return this._position.clone();this._position=a(c,b);this._render(this._position.x,this._position.y);
return this};c.prototype.interact=function(a){return new n(this,a)};c.prototype.drag=function(a,c){return new g(this,a,c)};c.prototype.spring=function(a){return new k(this,a)};c.prototype.decelerate=function(a){return new m(this,a)};c.prototype.accelerate=function(a){return new l(this,a)};c.prototype.attachSpring=function(a,c){return new e(this,a,c)}},{"./accelerate":1,"./attach-spring":3,"./boundary":5,"./decelerate":6,"./drag":7,"./interact":9,"./renderer":10,"./simulation":11,"./spring":12,"./vector":14,
"lodash.defaults":16,promise:23}],9:[function(b,d,h){function c(c,b){this._phys=c;this._running=!1;this._opts=a({},b,l);this._opts.boundry&&(console.warn("Warning: Misspelled option 'boundry' is being deprecated. Please use 'boundary' instead."),this._opts.boundary=this._opts.boundry,delete this._opts.boundry)}var a=b("lodash.defaults"),f=b("touch-velocity"),k=b("./vector"),e=b("promise"),m=b("./util");b=b("./boundary");d.exports=c;var l={boundary:b({}),damping:0,direction:"both"};c.prototype.position=
function(a,c){var b=this._opts.direction,f=this._opts.boundary,e=k(a,c);"both"!==b&&"horizontal"!==b&&(e.x=0);"both"!==b&&"vertical"!==b&&(e.y=0);this._veloX.updatePosition(e.x);this._veloY.updatePosition(e.y);this._phys.velocity(this._veloX.getVelocity(),this._veloY.getVelocity());e=f.applyDamping(e,this._opts.damping);this._phys.position(e);return this};c.prototype.update=function(a){a=a.originalEvent||a;a=m.eventVector(a).sub(this._startPosition);this.position(a);return this};c.prototype.start=
function(a){var c=this,b=a&&m.eventVector(a),d=this._phys.position();this._running=!0;this._phys._startAnimation(this);this._startPosition=a&&b.sub(d);this._initialPosition=this._phys.position();this._veloX=new f;this._veloY=new f;this.position(d);return this._ended=new e(function(a,b){c._resolve=a;c._reject=b})};c.prototype.distance=function(){return this._initialPosition.sub(this._phys.position()).norm()};c.prototype.cancel=function(){this._running=!1;this._reject(Error("Canceled the interaction"))};
c.prototype.running=function(){return this._running};c.prototype.end=function(){this._phys.velocity(this._veloX.getVelocity(),this._veloY.getVelocity());this._resolve({velocity:this._phys.velocity(),position:this._phys.position()});return this._ended}},{"./boundary":5,"./util":13,"./vector":14,"lodash.defaults":16,promise:23,"touch-velocity":27}],10:[function(b,d,h){function c(){m(function(){c();for(var a=k.length-1;0<=a;a--)k[a]()})}function a(a){"undefined"===typeof a.length&&(a=[a]);this.els=a;
this.styles={};this.invisibleEls=[];k.push(this.render.bind(this))}var f=["Webkit","Moz","Ms","ms"],k=[],e,m=b("raf");c();var l="translate translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skew skewX skewY skewZ".split(" ");d.exports=a;a.prototype.render=function(){if(this.currentPosition){if(!e)a:{for(var a,c=0;c<f.length;c++)if(a=f[c]+"transform"[0].toUpperCase()+"transform".slice(1),"undefined"!==typeof document.body.style[a]){e=a;break a}e="transform"}var b;
a=this.els;var c=this.currentPosition,d=this.styles,k,s=Object.keys(d),t=a.length,h=s.length,m,u;for(m=0;m<t;m++)if(b=[],this.visibleFn&&!this.visibleFn(c,m))this.invisibleEls[m]||(a[m].style.webkitTransform="translate3d(0, -99999px, 0)"),this.invisibleEls[m]=!0;else{this.invisibleEls[m]=!1;for(u=0;u<h;u++)prop=s[u],k="function"===typeof d[prop]?d[prop](c.x,c.y,m):d[prop],-1!==l.indexOf(prop)?b.push(prop+"("+k+")"):a[m].style[prop]=k;b=b.join(" ");b+=" translateZ(0)";a[m].style[e]=b}}};a.prototype.style=
function(a,c){if("object"===typeof a)for(prop in a)a.hasOwnProperty(prop)&&this.style(prop,a[prop]);this.styles[a]=c;return this};a.prototype.visible=function(a){this.visibleFn=a;return this};a.prototype.update=function(a,c){this.currentPosition={x:a,y:c}}},{raf:25}],11:[function(b,d,h){function c(a,c,b,f){var e=k(0,0);e.selfAdd(a);e.selfAdd(c.add(b).selfMult(2));e.selfAdd(f);e.selfMult(1/6);return e}function a(a,c,b,f){var e={};e.position=l.setv(f.dx).selfMult(b).selfAdd(a.position);e.velocity=g.setv(f.dv).selfMult(b).selfAdd(a.velocity);
return{dx:e.velocity.clone(),dv:a.accelerate(e,c).clone()}}function f(){m(function(){f();var b=Date.now()/1E3,d=b-p;p=b;.05<d&&(d=.05);for(q+=d;.015<=q;){for(b=0;b<e.length;b++){e[b].previousPosition=e[b].position.clone();var d=e[b],k=r,g=a(d,k,0,n),m=a(d,k,.0075,g),l=a(d,k,.0075,m),h=a(d,k,.015,l),k=c(g.dx,m.dx,l.dx,h.dx),g=c(g.dv,m.dv,l.dv,h.dv);d.position.selfAdd(k.selfMult(.015));d.velocity.selfAdd(g.selfMult(.015))}r+=.015;q-=.015}for(b=0;b<e.length;b++)e[b].update(q/.015)},16)}var k=b("./vector"),
e=[],m=b("raf"),l=k(0,0),g=k(0,0),n={dx:k(0,0),dv:k(0,0)},p=Date.now()/1E3,q=0,r=0;f();d.exports.addBody=function(a){e.push(a);return a};d.exports.removeBody=function(a){a=e.indexOf(a);0<=a&&e.splice(a,1)}},{"./vector":14,raf:25}],12:[function(b,d,h){var c=b("./body"),a=b("./simulation");b("./boundary");b=b("./animation");d.exports=b({defaultOptions:{tension:100,damping:10},onStart:function(b,d,e,m,l){var g=this._body=new c(b,d,{accelerate:function(a,c){return a.position.selfSub(e).selfMult(-m.tension).selfSub(a.velocity.mult(m.damping))},
update:function(a,c){g.atRest()&&g.atPosition(e)?l.done(e,{x:0,y:0}):l.state(a,c)}});a.addBody(this._body)},onEnd:function(){a.removeBody(this._body)}})},{"./animation":2,"./body":4,"./boundary":5,"./simulation":11}],13:[function(b,d,h){var c=b("./vector");d.exports.height=function(a,c,b){var e=-c/(2*a);return a*e*e+c*e+b};d.exports.eventVector=function(a){return c({x:a.touches&&a.touches[0].pageX||a.pageX,y:a.touches&&a.touches[0].pageY||a.pageY})}},{"./vector":14}],14:[function(b,d,h){function c(a,
b){if(!(this instanceof c))return new c(a,b);"undefined"!==typeof a.x?(this.x=a.x,this.y=a.y):(this.x=a||0,this.y=b||0)}d.exports=c;c.prototype.equals=function(a){return a.x===this.x&&a.y===this.y};c.prototype.directionEqual=function(a){return 0<a.x===0<this.x&&0<this.y===0<a.y};c.prototype.dot=function(a){return this.x*a.x+this.y*a.y};c.prototype.negate=function(){return c(this.x,this.y).mult(-1)};c.prototype.norm=function(){return Math.sqrt(this.normsq())};c.prototype.clone=function(){return c(this.x,
this.y)};c.prototype.normsq=function(){return this.x*this.x+this.y*this.y};c.prototype.normalize=function(){var a=this.norm();if(0===a)return this;a=1/a;this.x*=a;this.y*=a;return this};c.prototype.mult=function(a,b){return a instanceof c?new c(a.x*this.x,a.y*this.y):"undefined"===typeof b?new c(a*this.x,a*this.y):new c(a*this.x,b*this.y)};c.prototype.selfMult=function(a,b){if(a instanceof c)return this.x*=a.x,this.y*=a.y,this;if("undefined"===typeof b)return this.x*=a,this.y*=a,this;this.x*=a;this.y*=
b;return this};c.prototype.selfAdd=function(a,c){if("undefined"!==typeof a.x)return this.x+=a.x,this.y+=a.y,this;if("undefined"===typeof c)return this.x+=a,this.y+=a,this;this.x+=a;this.y+=c;return this};c.prototype.selfSub=function(a,c){if("undefined"!==typeof a.x)return this.x-=a.x,this.y-=a.y,this;if("undefined"===typeof c)return this.x-=a,this.y-=a,this;this.x-=a;this.y-=c;return this};c.prototype.sub=function(a,b){return"undefined"!==typeof a.x?new c(this.x-a.x,this.y-a.y):"undefined"===typeof b?
new c(this.x-a,this.y-a):new c(this.x-a,this.y-b)};c.prototype.add=function(a,b){return"undefined"!==typeof a.x?new c(this.x+a.x,this.y+a.y):"undefined"===typeof b?new c(this.x+a,this.y+a):new c(this.x+a,this.y+b)};c.prototype.setv=function(a){this.x=a.x;this.y=a.y;return this};c.prototype.lerp=function(a,c){return this.mult(1-c).add(a.mult(c))}},{}],15:[function(b,d,h){function c(a){if(a){for(var b in c.prototype)a[b]=c.prototype[b];return a}}d.exports=c;c.prototype.on=c.prototype.addEventListener=
function(a,c){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(c);return this};c.prototype.once=function(a,c){function b(){e.off(a,b);c.apply(this,arguments)}var e=this;this._callbacks=this._callbacks||{};b.fn=c;this.on(a,b);return this};c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(a,c){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var b=this._callbacks[a];
if(!b)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var e,d=0;d<b.length;d++)if(e=b[d],e===c||e.fn===c){b.splice(d,1);break}return this};c.prototype.emit=function(a){this._callbacks=this._callbacks||{};var c=[].slice.call(arguments,1),b=this._callbacks[a];if(b)for(var b=b.slice(0),e=0,d=b.length;e<d;++e)b[e].apply(this,c);return this};c.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};c.prototype.hasListeners=function(a){return!!this.listeners(a).length}},
{}],16:[function(b,d,h){var c=b("lodash.keys"),a=b("lodash._objecttypes");d.exports=function(b,d,e){var m,l=b,g=l;if(!l)return g;for(var h=arguments,p=0,q="number"==typeof e?2:h.length;++p<q;)if((l=h[p])&&a[typeof l])for(var r=-1,s=a[typeof l]&&c(l),t=s?s.length:0;++r<t;)m=s[r],"undefined"==typeof g[m]&&(g[m]=l[m]);return g}},{"lodash._objecttypes":17,"lodash.keys":18}],17:[function(b,d,h){d.exports={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1}},{}],18:[function(b,d,h){h=
b("lodash._isnative");var c=b("lodash.isobject");b=b("lodash._shimkeys");var a=h(a=Object.keys)&&a;d.exports=a?function(b){return c(b)?a(b):[]}:b},{"lodash._isnative":19,"lodash._shimkeys":20,"lodash.isobject":21}],19:[function(b,d,h){var c=RegExp("^"+String(Object.prototype.toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");d.exports=function(a){return"function"==typeof a&&c.test(a)}},{}],20:[function(b,d,h){var c=b("lodash._objecttypes"),a=Object.prototype.hasOwnProperty;
d.exports=function(b){var d,e=[];if(!b||!c[typeof b])return e;for(d in b)a.call(b,d)&&e.push(d);return e}},{"lodash._objecttypes":17}],21:[function(b,d,h){var c=b("lodash._objecttypes");d.exports=function(a){return!(!a||!c[typeof a])}},{"lodash._objecttypes":17}],22:[function(b,d,h){function c(b){function d(a){null===p?r.push(a):k(function(){var c=p?a.onFulfilled:a.onRejected;if(null===c)(p?a.resolve:a.reject)(q);else{var b;try{b=c(q)}catch(e){a.reject(e);return}a.resolve(b)}})}function h(a){try{if(a===
s)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"===typeof a||"function"===typeof a)){var c=a.then;if("function"===typeof c){f(c.bind(a),h,g);return}}p=!0;q=a;n()}catch(b){g(b)}}function g(a){p=!1;q=a;n()}function n(){for(var a=0,c=r.length;a<c;a++)d(r[a]);r=null}if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof b)throw new TypeError("not a function");var p=null,q=null,r=[],s=this;this.then=function(b,e){return new c(function(c,
f){d(new a(b,e,c,f))})};f(b,h,g)}function a(a,c,b,d){this.onFulfilled="function"===typeof a?a:null;this.onRejected="function"===typeof c?c:null;this.resolve=b;this.reject=d}function f(a,c,b){var d=!1;try{a(function(a){d||(d=!0,c(a))},function(a){d||(d=!0,b(a))})}catch(f){d||(d=!0,b(f))}}var k=b("asap");d.exports=c},{asap:24}],23:[function(b,d,h){function c(c){this.then=function(b){return"function"!==typeof b?this:new a(function(a,d){f(function(){try{a(b(c))}catch(e){d(e)}})})}}var a=b("./core.js"),
f=b("asap");d.exports=a;c.prototype=Object.create(a.prototype);var k=new c(!0),e=new c(!1),m=new c(null),l=new c(void 0),g=new c(0),n=new c("");a.resolve=function(b){if(b instanceof a)return b;if(null===b)return m;if(void 0===b)return l;if(!0===b)return k;if(!1===b)return e;if(0===b)return g;if(""===b)return n;if("object"===typeof b||"function"===typeof b)try{var d=b.then;if("function"===typeof d)return new a(d.bind(b))}catch(f){return new a(function(a,b){b(f)})}return new c(b)};a.from=a.cast=function(b){var c=
Error("Promise.from and Promise.cast are deprecated, use Promise.resolve instead");c.name="Warning";console.warn(c.stack);return a.resolve(b)};a.denodeify=function(b,c){c=c||Infinity;return function(){var d=this,e=Array.prototype.slice.call(arguments);return new a(function(a,f){for(;e.length&&e.length>c;)e.pop();e.push(function(b,c){b?f(b):a(c)});b.apply(d,e)})}};a.nodeify=function(b){return function(){var c=Array.prototype.slice.call(arguments),d="function"===typeof c[c.length-1]?c.pop():null;try{return b.apply(this,
arguments).nodeify(d)}catch(e){if(null===d||"undefined"==typeof d)return new a(function(a,b){b(e)});f(function(){d(e)})}}};a.all=function(){var b=1===arguments.length&&Array.isArray(arguments[0]),c=Array.prototype.slice.call(b?arguments[0]:arguments);b||(b=Error("Promise.all should be called with a single array, calling it with multiple arguments is deprecated"),b.name="Warning",console.warn(b.stack));return new a(function(a,b){function d(f,g){try{if(g&&("object"===typeof g||"function"===typeof g)){var k=
g.then;if("function"===typeof k){k.call(g,function(a){d(f,a)},b);return}}c[f]=g;0===--e&&a(c)}catch(h){b(h)}}if(0===c.length)return a([]);for(var e=c.length,f=0;f<c.length;f++)d(f,c[f])})};a.reject=function(b){return new a(function(a,c){c(b)})};a.race=function(b){return new a(function(c,d){b.forEach(function(b){a.resolve(b).then(c,d)})})};a.prototype.done=function(a,b){(arguments.length?this.then.apply(this,arguments):this).then(null,function(a){f(function(){throw a;})})};a.prototype.nodeify=function(a){if("function"!=
typeof a)return this;this.then(function(b){f(function(){a(null,b)})},function(b){f(function(){a(b)})})};a.prototype["catch"]=function(a){return this.then(null,a)}},{"./core.js":22,asap:24}],24:[function(b,d,h){(function(b){function a(){for(;f.next;){f=f.next;var b=f.task;f.task=void 0;var c=f.domain;c&&(f.domain=void 0,c.enter());try{b()}catch(d){if(l)throw c&&c.exit(),setTimeout(a,0),c&&c.enter(),d;setTimeout(function(){throw d;},0)}c&&c.exit()}e=!1}var f={task:void 0,next:null},k=f,e=!1,h=void 0,
l=!1;if("undefined"!==typeof b&&b.nextTick)l=!0,h=function(){b.nextTick(a)};else if("function"===typeof setImmediate)h="undefined"!==typeof window?setImmediate.bind(window,a):function(){setImmediate(a)};else if("undefined"!==typeof MessageChannel){var g=new MessageChannel;g.port1.onmessage=a;h=function(){g.port2.postMessage(0)}}else h=function(){setTimeout(a,0)};d.exports=function(a){k=k.next={task:a,domain:l&&b.domain,next:null};e||(e=!0,h())}}).call(this,b("_process"))},{_process:28}],25:[function(b,
d,h){var c=b("performance-now"),a="undefined"===typeof window?{}:window;b=["moz","webkit"];var f=a.requestAnimationFrame,k=a.cancelAnimationFrame||a.cancelRequestAnimationFrame,e=!0;for(h=0;h<b.length&&!f;h++)f=a[b[h]+"RequestAnimationFrame"],k=a[b[h]+"CancelAnimationFrame"]||a[b[h]+"CancelRequestAnimationFrame"];if(!f||!k)var e=!1,m=0,l=0,g=[],n=1E3/60,f=function(a){if(0===g.length){var b=c(),d=Math.max(0,n-(b-m));m=d+b;setTimeout(function(){for(var a=g.slice(0),b=g.length=0;b<a.length;b++)if(!a[b].cancelled)try{a[b].callback(m)}catch(c){setTimeout(function(){throw c;
},0)}},Math.round(d))}g.push({handle:++l,callback:a,cancelled:!1});return l},k=function(a){for(var b=0;b<g.length;b++)g[b].handle===a&&(g[b].cancelled=!0)};d.exports=function(b){return e?f.call(a,function(){try{b.apply(this,arguments)}catch(a){setTimeout(function(){throw a;},0)}}):f.call(a,b)};d.exports.cancel=function(){k.apply(a,arguments)}},{"performance-now":26}],26:[function(b,d,h){(function(b){(function(){var a,f,k;"undefined"!==typeof performance&&null!==performance&&performance.now?d.exports=
function(){return performance.now()}:"undefined"!==typeof b&&null!==b&&b.hrtime?(d.exports=function(){return(a()-k)/1E6},f=b.hrtime,a=function(){var a;a=f();return 1E9*a[0]+a[1]},k=a()):Date.now?(d.exports=function(){return Date.now()-k},k=Date.now()):(d.exports=function(){return(new Date).getTime()-k},k=(new Date).getTime())}).call(this)}).call(this,b("_process"))},{_process:28}],27:[function(b,d,h){function c(){this.positionQueue=[];this.timeQueue=[]}d.exports=c;c.prototype.reset=function(){this.positionQueue.splice(0);
this.timeQueue.splice(0)};c.prototype.pruneQueue=function(a){for(;this.timeQueue.length&&this.timeQueue[0]<Date.now()-a;)this.timeQueue.shift(),this.positionQueue.shift()};c.prototype.updatePosition=function(a){this.positionQueue.push(a);this.timeQueue.push(Date.now());this.pruneQueue(50)};c.prototype.getVelocity=function(){this.pruneQueue(1E3);var a=this.timeQueue.length;return 2>a?0:(this.positionQueue[a-1]-this.positionQueue[0])/((this.timeQueue[a-1]-this.timeQueue[0])/1E3)}},{}],28:[function(b,
d,h){function c(){}b=d.exports={};b.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(a){return window.setImmediate(a)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var a=[];window.addEventListener("message",function(b){var c=b.source;c!==window&&null!==c||"process-tick"!==b.data||(b.stopPropagation(),0<a.length&&a.shift()())},!0);return function(b){a.push(b);window.postMessage("process-tick","*")}}return function(a){setTimeout(a,
0)}}();b.title="browser";b.browser=!0;b.env={};b.argv=[];b.on=c;b.addListener=c;b.once=c;b.off=c;b.removeListener=c;b.removeAllListeners=c;b.emit=c;b.binding=function(a){throw Error("process.binding is not supported");};b.cwd=function(){return"/"};b.chdir=function(a){throw Error("process.chdir is not supported");}},{}]},{},[8])(8)});
